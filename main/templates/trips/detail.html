{% extends 'base.html' %} {% block content %}

<a href="{% url 'index' %}"><h1>Your Trips</h1></a>
<div class="row">
	<div class="col s12">
		<div class="card">
			<div class="card-content">
				<span class="card-title">{{ trip.name }}</span>
				<p>Mode of travel: {{ trip.mode }}</p>
				<p>Distance: {{ trip.distance }}</p>
				<p>Nights: {{ trip.nights }}</p>
				<p>Start: {{ trip.start }}</p>
				<p>End: {{ trip.end }}</p>
			</div>
			<div class="card-action">
				<a href="{% url 'trip_update' trip.id %}">Edit</a>
				<a href="{% url 'trip_delete' trip.id %}">Delete</a>
			</div>
		</div>
		<a href="{% url 'gear_create' %}"
			><button class="btn">Add your Gear</button></a
		>
	</div>
</div>
<hr />
<div class="row">
	<div class="col s12 m6">
		<h3>{{ trip.name }} Gear List</h3>
		{% if trip.gear.count %} {% for gear in trip.gear.all %}
		<div class="card">
			<div class="card-content">
				<span class="card-title">
					A {{ gear.size }} {{ gear.name.lower }} {{gear.use}}
				</span>
				<div class="card-action center">
					<form
						action="{% url 'assoc_trip' trip.id gear.id %}"
						method="POST">
						{% csrf_token %}
						<button
							type="submit"
							class="btn">
							Not on this trip!
						</button>
					</form>
				</div>
			</div>
		</div>
		{% endfor %} {% else %}
		<h5>No gear added to this trip yet</h5>
		{% endif %}
	</div>
	<div class="col s6">
		<h3>Available Gear</h3>
		{% if gear.count %} {% for gear in gear.all %}
		<div class="card">
			<div class="card-content">
				<span class="card-title"> A {{ gear.brand }} {{gear.name}} </span>
			</div>
			<div class="card-action">
				<form
					action="{% url 'assoc_gear' trip.id gear.id %}"
					method="POST">
					{% csrf_token %}
					<button
						type="submit"
						class="btn">
						Bring it along!
					</button>
				</form>
			</div>
		</div>
		{% endfor %} {% else %}
		<h5>That's your whole kit!</h5>
		{% endif %}
	</div>
	{% comment %}
	<div class="col s6">
		<table class="striped">
			<thead>
				<tr>
					<th>Gear</th>
				</tr>
			</thead>
			<tbody>
				{% for gear in trip.gear_set.all %}
				<tr>
					<td>{{gear.brand}}</td>
					<td>{{gear.size}}</td>
					<td>{{gear.name}}</td>
					<td>{{gear.use}}</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
	{% endcomment %}
</div>
{% endblock %}
